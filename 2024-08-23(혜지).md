# ğŸ’¡ 8ì›” 23ì¼ íšŒê³ 
## ğŸª ì˜¨ë¼ì¸ ìƒì  êµ¬ì¶• í”„ë¡œì íŠ¸ ğŸª

## 1. í™˜ê²½ êµ¬ì¶•í•˜ê¸°
- ê°€ìƒí™˜ê²½ ì„¤ì •

- í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜

  ```python
  pip install django Pillow
  ```
  <br><br/>
## 2. ì˜¨ë¼ì¸ ìƒì  ê¸°ë°˜ êµ¬ì¶•

### ğŸ“ ì£¼ìš” ê¸°ëŠ¥
- **ì œí’ˆ ì¹´íƒˆë¡œê·¸ ë§Œë“¤ê¸° : shop (ì˜¤ëŠ˜ ì§„í–‰í•œ ë‚´ìš©)**
- ê´‘ê³  ì„¸ì…˜ì„ ì‚¬ìš©í•œ ì‡¼í•‘ ì¹´íŠ¸ êµ¬ì¶• : cart
- ê³ ê° ì£¼ë¬¸ê´€ë¦¬ : order
<br><br/>

### ğŸ“ 2-1. ì œí’ˆ ì¹´íƒˆë¡œê·¸ ë§Œë“¤ê¸°
- ì˜¨ë¼ì¸ ìƒì (ì‡¼í•‘ëª°)ì€ ì œí’ˆ ì¹´íƒˆë¡œê·¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì„±ë˜ë©° ì œí’ˆ ì¹´íƒˆë¡œê·¸ë¥¼ ë§Œë“œëŠ” ì‘ì—…ì´ ì˜¨ë¼ì¸ ìƒì ì˜ ê¸°ë³¸ í‹€ì„ ë§Œë“œëŠ” ì‘ì—…ê³¼ ë™ì¼í•˜ë‹¤ê³  í•  ìˆ˜ ìˆìŒ

### (1) ê¸°ì´ˆ ì‘ì—…
- í”„ë¡œì íŠ¸ ìƒì„±
  ```python
  django-admin startproject myshop .
  ```
  
- ì•± ìƒì„±
  ```python
  django-admin startapp shop
  ```
  
- ì•± ë“±ë¡
  ```python
  INSTALLED_APPS = [
      ....
    'shop.apps.ShopConfig',] #ì¶”ê°€
  ```

### (2) ì¹´íƒˆë¡œê·¸ ëª¨ë¸ ìƒì„±
- ê° ì œí’ˆì—ëŠ” ì´ë¦„, ì„¤ëª…(ì„ íƒì‚¬í•­), ì´ë¯¸ì§€(ì„ íƒì‚¬í•­), ê°€ê²©, ì‚¬ìš© ê°€ëŠ¥ì„± ë“±ì´ í¬í•¨ëœë‹¤.
- shop/modles.py (modles íŒŒì¼ì— ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤)
  
  ```python
  from django.db import models
  from django.urls import reverse

  class Category(models.Model):
      name = models.CharField(max_length=200)
      slug = models.SlugField(max_length=200, unique=True)
  
      class Meta:
          ordering = ['name']
          indexes = [
              models.Index(fields=['name']),
          ]
          verbose_name = 'category'
          verbose_name_plural = 'categories'
  
      def __str__(self):
          return self.name
      
      def get_absolute_url(self):
          return reverse('shop:product_list_by_category', args=[self.slug])
  
  class Product(models.Model):
      category = models.ForeignKey(Category, related_name='products', on_delete=models.CASCADE)
      name = models.CharField(max_length=200)
      slug = models.SlugField(max_length=200)
      image = models.ImageField(upload_to="products/%Y/%m/%d", blank=True)
      description = models.TextField(blank=True)
      price = models.DecimalField(max_digits=10, decimal_places=2)
      available = models.BooleanField(default=True)
      created = models.DateTimeField(auto_now_add=True)
      updated = models.DateTimeField(auto_now=True)
  
      class Meta:
          ordering = ['name']
          indexes = [
              models.Index(fields = ['id', 'slug']),
              models.Index(fields = ['name']),
              models.Index(fields = ['-created']),
          ]
  
      def __str__(self):
          return self.name
      
      def get_absolute_url(self):
          return reverse("shop:product_detail", args=[self.id, self.slug])
  
  ```
- ìƒˆë¡œìš´ í´ë˜ìŠ¤ê°€ ìƒì„±ë˜ì—ˆê¸° ë•Œë¬¸ì— í„°ë¯¸ë„ì—ì„œ ì‘ì—…ì„ í•´ì¤€ë‹¤.

  ```python
    python manage.py makemigrations
    python manage.py migrate
  ```
### (3) Adminì— ì¹´íƒˆë¡œê·¸ ëª¨ë¸ ë“±ë¡í•˜ê¸°
- shop/admin.py (admin íŒŒì¼ì— ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤)
  
 ```python
  from django.contrib import admin
  from shop.models import Category, Product

  @admin.register(Category)
  class CategoryAdmin(admin.ModelAdmin):
      list_display = ['name', 'slug']
      prepopulated_fields = {'slug': ('name',)}
  
  @admin.register(Product)
  class ProductAdmin(admin.ModelAdmin):
      list_display = ['name', 'slug', 'price', 'available', 'created', 'updated']
      list_filter = ['available', 'created', 'updated']
      list_editable = ['price', 'available']
      prepopulated_fields = {'slug': ('name',)}
```
- ìƒˆë¡œìš´ í´ë˜ìŠ¤ê°€ ìƒì„±ë˜ì—ˆê¸° ë•Œë¬¸ì— í„°ë¯¸ë„ì—ì„œ ì‘ì—…ì„ í•´ì¤€ë‹¤.

  ```python
    python manage.py makemigrations
    python manage.py migrate
  ```

### (4) ì¹´íƒˆë¡œê·¸ ë·° ë§Œë“¤ê¸°  
- shop/views.py
  
  ```python
  from django.shortcuts import render, get_object_or_404
  from shop.models import Category, Product
  
  def product_list(request, category_slug=None):
      category = None
      categories = Category.objects.all()
      products = Product.objects.filter(available=True)
  
      if category_slug:
          category = get_object_or_404(Category, slug=category_slug)
          products = products.filter(category=category)
  
      return render(request, 'shop/product/list.html',
                    {'category': category, 'categories': categories, 'products': products})
  
  
  def product_detail(request, id, slug):
      product = get_object_or_404(Product, id=id, slug=slug, available=True)
  
      return render(request, 'shop/product/detail.html',
                    {'product': product})

  ```
- shop/urls.py
  ```python
  from django.urls import path
  from shop import views
  
  app_name = 'shop'
  urlpatterns = [
      path('', views.product_list, name='product_list'),
      path('<slug:category_slug>/', views.product_list, name='product_list_by_category'),
      path('<int:id>/<slug:slug>/', views.product_detail, name='product_detail'),
  ]
  ```
- myshop/urls.py

  ```python
  from django.contrib import admin
  from django.urls import path, include
  
  urlpatterns = [
      path('admin/', admin.site.urls),
      path('', include("shop.urls", namespace="shop"))
  ]
  ```

 ### (5) ì¹´íƒˆë¡œê·¸ í…œí”Œë¦¿ ìƒì„±í•˜ê¸°
 - shop/templates/shop/base.html
     - ì œí’ˆ ëª©ë¡ ë° ìƒì„¸ í˜ì´ì§€ìš© ë² ì´ìŠ¤ í…œí”Œë¦¿

  ```python
  {% load static %}
  <!DOCTYPE html>
  <html>
  <head>
      <meta charset="utf-8" />
      <title>{% block title %}My shop{% endblock %}</title>
      <link href="{% static 'css/base.css' %}" rel="stylesheet">
  </head>
  <body>
      <div id="header">
          <a href="/" class="logo">My Shop</a>
      </div>
      <div id = "content">
          {% block content %}
          {% endblock %}
      </div>
  </body>
  </html>
  ```

- shop/product/list.html
   - ì œí’ˆ ëª©ë¡ í…œí”Œë¦¿

  ```python
  {% extends "shop/base.html" %}
  {% load static %}
  
  {% block title %}
      {% if category %}
          {{ category.name }}
      {% else %}
          Products
      {% endif %}
  {% endblock %}
  
  {% block content %}
  <div id="sidebar">
      <h3>Categories</h3>
      <ul>
          <li {% if not category %}class="selected"{% endif %}>
              <a href="{% url 'shop:product_list' %}">All</a>
          </li>
          {% for c in categories %}
              <li {% if category.slug == c.slug %}class="selected"{% endif %}>
                  <a href="{{ c.get_absolute_url }}">{{ c.name }}</a>
              </li>
          {% endfor %}
      </ul>
  </div>
  <div id="main" class="product-list">
      <h1>{% if category %}{{ category.name }}{% else %}Products{% endif %}</h1>
      {% for product in products %}
          <div class="item">
              <a href="{{ product.get_absolute_url }}">
                  <img src="{% if product.image %}{{ product.image.url }}{% else %}{% static 'img/no_image.png'%}{% endif %}">
              </a>
              <a href="{{ product.get_absolute_url }}">{{ product.name }}</a>
              <br>
              ${{ product.price }}
          </div>
      {% endfor %}
  </div>
  {% endblock %}
  ```

- myshop/settings.py
  
  ```python
  MEDIA_URL = "media/"
  MEDIA_ROOT = BASE_DIR / "media"
  ```
- myshop/urls.py
  
  ```python
  from django.contrib import admin
  from django.urls import path, include
  from django.conf import settings
  from django.conf.urls.static import static
  
  urlpatterns = [
      path('admin/', admin.site.urls),
      path('', include("shop.urls", namespace="shop"))
  ]
  
  if settings.DEBUG:
      urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)

  ```
- shop/product/detail.html
  ```python
  {% extends "shop/base.html" %}
  {% load static %}
  
  {% block title %}
      {{ product.name }}
  {% endblock %}
  
  {% block content %}
      <div class="product-detail">
          <img src="{% if product.image %}
                      {{ product.image.url }}
                  {% else%}
                      {% static 'img/no_image.png' %}
                  {% endif %}">
          <h1>{{ product.category }}</h1>
          <h2>
              <a href="{{ product.category.get_absolute_url }}">
                  {{ product.category }}
              </a>
          </h2>
          <p class="price">${{ product.price }}</p>
          {{ product.description|linebreaks }}
      </div>
  {% endblock %}
  ```
<br><br/>
### ğŸ“ 2-2. ì‡¼í•‘ ì¹´íŠ¸ ë§Œë“¤ê¸°
- ì œí’ˆ ì¹´íƒˆë¡œê·¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ìš©ìê°€ êµ¬ë§¤í•˜ë ¤ëŠ” ì œí’ˆì„ ì„ íƒí•  ìˆ˜ ìˆë„ë¡ ì‡¼í•‘ ì¹´íŠ¸(ì¥ë°”êµ¬ë‹ˆ) ë§Œë“¤ê¸°
- ì¥ë°”êµ¬ë‹ˆë¥¼ ì‚¬ìš©í•˜ë©´ ì‚¬ìš©ìê°€ ì‚¬ì´íŠ¸ë¥¼ íƒìƒ‰í•˜ëŠ” ë™ì•ˆ ìµœì¢… ì£¼ë¬¸ì´ ì´ë£¨ì–´ì§ˆ ë•Œê¹Œì§€ ì œí’ˆì„ ì„ íƒí•˜ê³  ì£¼ë¬¸í•œ ê¸ˆì•¡ì„ ì„¤ì •í•œ ì •ë³´ë¥¼ ì„ì‹œë¡œ ì €ì¥í•  ìˆ˜ ìˆìŒ
- ì‚¬ìš©ìê°€ ë°©ë¬¸í•˜ëŠ” ë™ì•ˆ, ì¹´íŠ¸ í•­ëª©ì´ ìœ ì§€ë˜ë„ë¡ ì¹´íŠ¸ëŠ” ì„¸ì…˜ì—ì„œ ìœ ì§€ë˜ì–´ì•¼ í•¨

### (1) ì„¸ì…˜
- ì„¸ì…˜(Session)
    - ì¼ì • ì‹œê°„ ë™ì•ˆ ê°™ì€ ì‚¬ìš©ì(ë¸Œë¼ìš°ì €)ë¡œë¶€í„° ë“¤ì–´ì˜¤ëŠ” ì¼ë ¨ì˜ ìš”êµ¬ë¥¼ í•˜ë‚˜ì˜ ìƒíƒœë¡œ ë³´ê³ , ê·¸ ìƒíƒœë¥¼ ìœ ì§€ì‹œí‚¤ëŠ” ê¸°ìˆ 
    - ì¼ì • ì‹œê°„: ë°©ë¬¸ìê°€ ì›¹ ë¸Œë¼ìš°ì €ë¥¼ í†µí•´ ì›¹ ì„œë²„ì— ì ‘ì†í•œ ì‹œì ë¶€í„° ì›¹ ë¸Œë¼ìš°ì €ë¥¼ ì¢…ë£Œí•˜ì—¬ ì—°ê²°ì„ ëë‚´ëŠ” ì‹œì ê¹Œì§€ë¥¼ ê°€ë¦¬í‚´
    - ì¦‰, ë°©ë¬¸ìê°€ ì›¹ ì„œë²„ì— ì ‘ì†í•´ ìˆëŠ” ìƒíƒœë¥¼ í•˜ë‚˜ì˜ ë‹¨ìœ„ë¡œ ë³´ê³  ê·¸ê²ƒì„ ì„¸ì…˜ì´ë¼ê³  í•¨
    <br><br>
- ì„¸ì…˜ì˜ íŠ¹ì§•
    - ì›¹ ì„œë²„ì— ì›¹ ì»¨í…Œì´ë„ˆì˜ ìƒíƒœë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•œ ì •ë³´ë¥¼ ì €ì¥
    - ì›¹ ì„œë²„ì— ì €ì¥ë˜ëŠ” ì¿ í‚¤(=ì„¸ì…˜ ì¿ í‚¤)
    - ë¸Œë¼ìš°ì €ë¥¼ ë‹«ê±°ë‚˜, ì„œë²„ì—ì„œ ì„¸ì…˜ì„ ì‚­ì œí–ˆì„ ë•Œë§Œ ì‚­ì œê°€ ë˜ë¯€ë¡œ, ì¿ í‚¤ë³´ë‹¤ ë¹„êµì  ë³´ì•ˆì„±ì´ ì¢‹ìŒ
    - ì €ì¥ ë°ì´í„°ì— ì œí•œì´ ì—†ìŒ(ì„œë²„ ìš©ëŸ‰ì´ í—ˆìš©í•˜ëŠ” í•œì—ì„œ)
    - ê° í´ë¼ì´ì–¸íŠ¸ì— ê³ ìœ  Session IDë¥¼ ë¶€ì—¬í•˜ê³  Session IDë¡œ í´ë¼ì´ì–¸íŠ¸ë¥¼ êµ¬ë¶„í•´ ê° ìš”êµ¬ì— ë§ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì œê³µ
    <br><br>
    - ì„¸ì…˜ê³¼ ì¿ í‚¤
        - ì„œë¡œ ìœ ì‚¬í•œ ì—­í• ì€ ìˆ˜í–‰í•˜ëŠ” ê¸°ìˆ 
        - ì„¸ì…˜ì€ ì„œë²„ì˜ ìì›ì„ ì‚¬ìš©í•˜ë©° ì¿ í‚¤ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ìì›ì„ ì‚¬ìš©í•¨
    <br><br>
- ì„¸ì…˜ì˜ ë™ì‘ ìˆœì„œ
    - í´ë¼ì´ì–¸íŠ¸ê°€ í˜ì´ì§€ì— ìš”ì²­
    - ì„œë²„ëŠ” ì ‘ê·¼í•œ í´ë¼ì´ì–¸íŠ¸ì˜ Request-Header í•„ë“œì¸ Cookieë¥¼ í™•ì¸í•˜ì—¬, í´ë¼ì´ì–¸íŠ¸ê°€ í•´ë‹¹ session-idë¥¼ ë³´ëƒˆëŠ”ì§€ í™•ì¸
    - session-idê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì„œë²„ëŠ” session-idë¥¼ ìƒì„±í•´ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ë‹¬
    - í´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ë¡œë¶€í„° ë°›ì€ session-idë¥¼ ì¿ í‚¤ì— ì €ì¥
    - í´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ì— ìš”ì²­ì‹œ ì´ ì¿ í‚¤ì˜ session-id ê°’ì„ ê°™ì´ ì„œë²„ì— ì „ë‹¬
    - ì„œë²„ëŠ” ì „ë‹¬ë°›ì€ session-idë¡œ sessionì— ìˆëŠ” í´ë¼ì´ì–¸íŠ¸ ì •ë³´ë¥¼ ê°€ì§€ê³  ìš”ì²­ì„ ì²˜ë¦¬ í›„ ì‘ë‹µ
    <br><br>
- ì‚¬ìš© ì˜ˆì‹œ
    - í™”ë©´ì„ ì´ë™í•´ë„ ë¡œê·¸ì¸ì´ í’€ë¦¬ì§€ ì•Šê³  ë¡œê·¸ì•„ì›ƒí•˜ê¸° ì „ê¹Œì§€ ìœ ì§€
 
### (2) ì¥ê³  ì„¸ì…˜ í”„ë ˆì„ì›Œí¬
- ì¥ê³  ì„¸ì…˜ í”„ë ˆì„ì›Œí¬
    - ìµëª… ì„¸ì…˜ê³¼ ì‚¬ìš©ì ì„¸ì…˜ ì§€ì›
    - ì„¸ì…˜ í”„ë ˆì„ì›Œí¬ë¥¼ í†µí•´ ê° ë°©ë¬¸ìì˜ ë°ì´í„°ë¥¼ ì €ì¥í•  ìˆ˜ ìˆìŒ

- ì¥ê³  ì„¸ì…˜ ë¯¸ë“¤ì›¨ì–´
    - ì¿ í‚¤ì˜ ì†¡ìˆ˜ì‹ ì„ ê´€ë¦¬í•¨

- ê¸°ë³¸ ì„¸ì…˜ì—”ì§„
    - ì„¸ì…˜ ë°ì´í„°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥
    - ìš”êµ¬ì— ë”°ë¼ ë‹¤ë¥¸ ì„¸ì…˜ ì—”ì§„ì„ ì„ íƒí•  ìˆ˜ ìˆìŒ
<br><br>
- ì¥ê³  ì„¸ì…˜ì˜ ì‚¬ìš©
    - í”„ë¡œì íŠ¸ì˜ settings.pyì—ì„œ MIDDLEWARE ì„¤ì •ì— 'django.contrib.sessions.middleware.SessionMiddleware' í¬í•¨ì—¬ë¶€ í™•ì¸
    - request.sessionì„ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ ì„¸ì…˜ì— ì ‘ê·¼ ê°€ëŠ¥
    - ì„¸ì…˜ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ê²€ìƒ‰í•  ë•Œì—ëŠ” íŒŒì´ì¬ì˜ ë”•ì…”ë„ˆë¦¬ì²˜ëŸ¼ ì·¨ê¸‰í•¨
    - ì„¸ì…˜ ë”•ì…”ë„ˆë¦¬ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ JSONìœ¼ë¡œ ì§ë ¬í™”í•  ìˆ˜ ìˆëŠ” ëª¨ë“  íŒŒì´ì¬ ê°ì²´ë¥¼ í—ˆìš©í•¨

   ```python
    # ì„¸ì…˜ ë³€ìˆ˜ ì„¤ì •
    request.session['foo'] = 'bar'

    # ì„¸ì…˜ í‚¤ ì¡°íšŒ
    request.session.get['foo']

    # ì„¸ì…˜ì— ì €ì¥í•œ í‚¤ ì‚­ì œ
    del request.session['foo']
   ```
<br><br/>
## ğŸ’Ÿ ì˜¤ëŠ˜ ì‹¤ìŠµ í™”ë©´

### ğŸ“ ë©”ì¸í™”ë©´
![image](https://github.com/user-attachments/assets/8d838e88-d678-4297-8793-fd675bff93f2)

### ğŸ“ í•´ë‹¹ ì¹´í…Œê³ ë¦¬ë¥¼ í´ë¦­ í–ˆì„ ë•Œì˜ í™”ë©´
![image](https://github.com/user-attachments/assets/dce19097-cdb8-4d67-bd36-810d8f6fd55b)
![image](https://github.com/user-attachments/assets/b5a60a5e-50f2-4c24-84dc-7ee51422f70d)

### ğŸ“ í•´ë‹¹ ì œí’ˆ í´ë¦­ í–ˆì„ ë•Œì˜ í™”ë©´
![image](https://github.com/user-attachments/assets/4e21c4de-9b1e-458b-9468-9c010b3b5d3d)
![image](https://github.com/user-attachments/assets/38fa8a76-dd82-46f7-9201-c710e571f050)
![image](https://github.com/user-attachments/assets/4fe9f51d-c63e-4168-bcf5-20b649cf9b38)

## ğŸ’Ÿ íšŒê³ ì‹œê°„ì˜ ì§ˆë¬¸
Q. í•´ë‹¹ ì œí’ˆì´ ë‹¬ëŸ¬ë¡œ í‘œì‹œ ë˜ëŠ”ë° ì›í™”ë¡œëŠ” í‘œì‹œë¥¼ ëª»í• ê¹Œ? ìš°ë¦¬ê°€ ë‹¬ëŸ¬ë¡œ ê¸°ë³¸ê°’ì„ ì„¤ì •í–ˆì—ˆë‚˜?

A.
shop/product/detail.html íŒŒì¼ì—ì„œ $ë¥¼ ì„¤ì •í•´ì£¼ì—ˆë‹¤.

 ```python
<p class="price">${{ product.price }}</p>
 ```

ë§Œì•½ ì›í™”ë¡œ ë°”ê¾¸ê³  ì‹¶ìœ¼ë©´, ì•„ë˜ì™€ ê°™ì´ ì„¤ì •í•´ì¤€ë‹¤.

 ```python
 <p class="price">{{ product.price|floatformat:0 }}â‚©</p>
 ```
  
 floatformat í•„í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°€ê²©ì„ ì†Œìˆ˜ì  ì—†ì´ ì •ìˆ˜ë¡œ í¬ë§· í•  ìˆ˜ ìˆê³  ì†Œìˆ˜ì  ì´í•˜ë¥¼ í•„ìš”ì— ë”°ë¼ ì¡°ì •í•  ìˆ˜ ìˆë‹¤.

 











  
